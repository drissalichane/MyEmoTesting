<h2 mat-dialog-title>Assign New Assessment</h2>
<form [formGroup]="assignForm" (ngSubmit)="onSubmit()">
    <mat-dialog-content>
        <p class="dialog-desc">Select a patient and the assessment questionnaire to assign.</p>

        <mat-form-field appearance="outline" class="full-width">
            <mat-label>Select Patient</mat-label>
            <mat-select formControlName="patientId">
                <mat-option *ngFor="let patient of patients" [value]="patient.id">
                    {{ patient.firstName }} {{ patient.lastName }}
                </mat-option>
            </mat-select>
        </mat-form-field>

        <mat-form-field appearance="outline" class="full-width">
            <mat-label>Select Assessment</mat-label>
            <mat-select formControlName="templateId">
                <mat-option *ngFor="let template of templates" [value]="template.id">
                    {{ template.title }}
                </mat-option>
            </mat-select>
        </mat-form-field>
    </mat-dialog-content>

    <mat-dialog-actions align="end">
        <button mat-button type="button" (click)="onCancel()" [disabled]="isSubmitting">Cancel</button>
        <button mat-flat-button color="primary" type="submit" [disabled]="!assignForm.valid || isSubmitting">
            {{ isSubmitting ? 'Assigning...' : 'Assign Test' }}
        </button>
    </mat-dialog-actions>
</form>